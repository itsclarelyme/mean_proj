
<h1 class="headline-text">Communities</h1>

<!-- <hr>{{communities}}<hr>
{{users}}<hr>
{{user}}<hr> -->
<hr>

<div class="community">

  <table class="table">
    <thead>
      <tr>
        <th>Community</th>
        <th>Created Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat='community in communities'>
        <td><a style="font-weight: bold" href="/#!/comm/{{community._id}}" >**** {{ community.comm_name }} ****</a></td>
        <td>{{community.updatedAt | date: "MMM. dd, yyyy"}}</td>
        <td><p ng-if="isRequest(community)">Request Pending</p><button class="btn btn-danger" ng-if="isMember(community)">Enter Community</button><button class="btn btn-danger" ng-if="!isMember(community) && !isRequest(community)" ng-click="join_comm(community._id)">Join Community!</button></td>
      </tr>
    </tbody>
  </table>
</div>

<div class="community">
    <h2>Add community</h2>
    <form ng-submit="createComm()" class="form-inline">
      <div class="form-group">
        <label for="communityName">Community Name</label>
        <input type="text" class="form-control" id="communityName" ng-model="community.comm_name">
        <label for="communityLocation">Location</label>
        <input id="comm_city" type="text" ng-model="community.location" placeholder="city">
        <input type="hidden" ng-model="community.admin" ng-value="{{user}}">
      </div>
      <button class="btn btn-primary" type="submit">Create new Community</button>
    </form>

</div>